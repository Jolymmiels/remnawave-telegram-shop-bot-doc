---
title: YooKassa Setup
description: Configure YooKassa for bank card payments
---

import { Steps } from '@astrojs/starlight/components';

YooKassa (Yandex.Kassa) is a payment processor supporting bank cards and other methods in Russia and CIS region.

## Requirements

- Business registration
- YooKassa merchant account
- API credentials
- SSL certificate (for webhooks)

## Setup Instructions

<Steps>

1. **Create YooKassa Account**
   - Visit [yookassa.ru](https://yookassa.ru)
   - Register as merchant
   - Verify business information
   - Wait for approval

2. **Generate API Credentials**
   - Log in to dashboard
   - Navigate to API settings
   - Create API key
   - Note your Shop ID

3. **Configure Environment**
   ```env
   YOOKASA_ENABLED=true
   YOOKASA_SHOP_ID=123456
   YOOKASA_SECRET_KEY=your_secret_key
   YOOKASA_EMAIL=contact@example.com
   YOOKASA_URL=https://payment.yandex.net
   ```

4. **Restart Bot**
   ```bash
   docker compose down && docker compose up -d
   ```

5. **Test Payment**
   - Send `/start` to bot
   - Select subscription
   - Choose YooKassa payment
   - Use test card: `4111 1111 1111 1111`

</Steps>

## Configuration Variables

| Variable | Description |
|----------|-------------|
| `YOOKASA_ENABLED` | Enable/disable YooKassa |
| `YOOKASA_SHOP_ID` | Your shop identifier |
| `YOOKASA_SECRET_KEY` | API secret key |
| `YOOKASA_EMAIL` | Account email |
| `YOOKASA_URL` | API endpoint |

## Test Cards

| Card | Status |
|------|--------|
| 4111 1111 1111 1111 | Success |
| 4000 0000 0000 0002 | Decline |

**Expiry**: Any future date  
**CVC**: Any 3 digits

## Troubleshooting

### Invalid Shop ID
- Verify Shop ID is correct in dashboard
- Check for typos
- Regenerate if uncertain

### Payment Pending
- Check transaction in dashboard
- Verify IP whitelist settings
- Contact YooKassa support

### Webhook Errors
- Ensure bot is publicly accessible
- Check webhook URL configuration
- Verify SSL certificate is valid

### API Timeout
- Check Remnawave connectivity
- Verify database is responsive
- Review bot logs for errors

## Pricing Strategy

Consider these factors:

- **Processing Fee**: Typically 2-3%
- **Market Rates**: Check competitor pricing
- **Regional Differences**: Adjust for local economy
- **Volume Discounts**: YooKassa may offer lower rates

## Security Best Practices

✅ Keep API keys secure  
✅ Enable 2FA on account  
✅ Monitor transactions regularly  
✅ Use IP whitelist  
✅ Rotate keys periodically  
❌ Never share secret key  
❌ Don't commit keys to version control

## Support

- **YooKassa Help**: [yookassa.ru/help](https://yookassa.ru/help)
- **API Docs**: [yookassa.ru/developers/api](https://yookassa.ru/developers/api)
- **Issues**: Report on GitHub or contact YooKassa
